
# 飞书多为表格接口

## GET 列出数据表

GET /open-apis/bitable/v1/apps/{app_token}/tables

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|app_token|path|string| 是 |none|
|Authorization|header|string| 是 |none|

> 请求示例
```python
import requests

url = "https://base-api.feishu.cn/open-apis/bitable/v1/apps/Y6Hqby2bOa9yCvsW3Yrcjvg7nJd/tables"

payload={}
headers = {
   'Authorization': 'Bearer pt-mu1PpNqAv1hukGO60wAY9T33H3lfe-2cYGyOoWiYAQAAHABAsAEAwyec6hi3',
   'User-Agent': 'Apifox/1.0.0 (https://apifox.com)'
}

response = requests.request("GET", url, headers=headers, data=payload)

print(response.text)
```

> 返回示例

> 200 Response

```json
{
    "code": 0,
    "data": {
        "has_more": false,
        "items": [
            {
                "name": "传感器",
                "revision": 26,
                "table_id": "tblJXoKuHt4amzbT"
            },
            {
                "name": "农户管理",
                "revision": 13,
                "table_id": "tblfuZMMP7adSEy6"
            },
            {
                "name": "饲喂记录",
                "revision": 0,
                "table_id": "tblLDAm0TJxmyU1W"
            },
            {
                "name": "养殖流程",
                "revision": 0,
                "table_id": "tbl6odNT0QWJNYMa"
            }
        ],
        "page_token": "tbl6odNT0QWJNYMa",
        "total": 4
    },
    "msg": "success"
}
```

## GET 列出记录

GET /open-apis/bitable/v1/apps/{app_token}/tables/{table_id}/records

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|app_token|path|string| 是 |none|
|table_id|path|string| 是 |none|
|Authorization|header|string| 是 |none|

> 请求示例

```python
import requests

url = "https://base-api.feishu.cn/open-apis/bitable/v1/apps/{{app_token}}/tables/tblfuZMMP7adSEy6/records"

payload={}
headers = {
   'User-Agent': 'Apifox/1.0.0 (https://apifox.com)',
   'Authorization': 'Bearer pt-mu1PpNqAv1hukGO60wAY9T33H3lfe-2cYGyOoWiYAQAAHABAsAEAwyec6hi3'
}

response = requests.request("GET", url, headers=headers, data=payload)

print(response.text)
```


> 返回示例

> 「农户管理 tblfuZMMP7adSEy6」数据表返回示例

```json
{
    "code": 0,
    "data": {
        "has_more": false,
        "items": [
            {
                "fields": {
                    "二维码地址": [
                        {
                            "text": "https://farm.pxact.com/index.html?id=recuU78lxajRoy",
                            "type": "text"
                        }
                    ],
                    "养殖企业": "昆明远纳农业发展有限公司",
                    "创建": 1755418223000,
                    "品种": "农家散养土鸡",
                    "国产/进口": "国产",
                    "地址": "云南省昆明市寻甸县金所乡泽铁村 189 号",
                    "姓名": "张三",
                    "封面图": [
                        {
                            "file_token": "Axfibrew4oGQuKx7VAIc0v7LniN",
                            "name": "image.png",
                            "size": 608942,
                            "tmp_url": "https://open.feishu.cn/open-apis/drive/v1/medias/batch_get_tmp_download_url?file_tokens=Axfibrew4oGQuKx7VAIc0v7LniN",
                            "type": "image/png",
                            "url": "https://open.feishu.cn/open-apis/drive/v1/medias/Axfibrew4oGQuKx7VAIc0v7LniN/download"
                        }
                    ],
                    "日均步数": 14591,
                    "是否有机": true,
                    "查询时间": 1751366716000,
                    "标题": "云南泽铁苗寨土鸡",
                    "监控地址": [
                        {
                            "text": "rtmp://farm.pxact.com/live/recuu78lxajroy",
                            "type": "text"
                        }
                    ],
                    "记录 ID": [
                        {
                            "text": "recuU78lxajRoy",
                            "type": "text"
                        }
                    ]
                },
                "id": "recuU78lxajRoy",
                "record_id": "recuU78lxajRoy"
            }
        ],
        "total": 1
    },
    "msg": "success"
}
```


> [传感器 tblJXoKuHt4amzbT] 数据表返回示例
```json
{
    "code": 0,
    "data": {
        "has_more": false,
        "items": [
            {
                "fields": {
                    "名称": "温度"
                },
                "id": "recuUc1E3FykAz",
                "record_id": "recuUc1E3FykAz"
            },
            {
                "fields": {
                    "名称": "湿度"
                },
                "id": "recuUc1FPyCqoX",
                "record_id": "recuUc1FPyCqoX"
            },
            {
                "fields": {
                    "名称": "脚环 1 步数"
                },
                "id": "recuUc1GSwO1D6",
                "record_id": "recuUc1GSwO1D6"
            },
            {
                "fields": {
                    "名称": "脚环 2 步数"
                },
                "id": "recuUc1PEn0P5E",
                "record_id": "recuUc1PEn0P5E"
            }
        ],
        "total": 4
    },
    "msg": "success"
}
```

> [饲喂记录 tblLDAm0TJxmyU1W] 数据表返回示例
```json
{
    "code": 0,
    "data": {
        "has_more": false,
        "items": [
            {
                "fields": {
                    "农户": [
                        {
                            "record_ids": [
                                "recuU78lxajRoy"
                            ],
                            "table_id": "tblfuZMMP7adSEy6",
                            "text": "张三",
                            "text_arr": [
                                "张三"
                            ],
                            "type": "text"
                        }
                    ],
                    "创建": 1755490577000,
                    "操作人": "洋葱",
                    "操作时间": 1755490555262,
                    "更新": 1755490577000,
                    "食物": "玉米"
                },
                "id": "recCTRD25o",
                "record_id": "recCTRD25o"
            }
        ],
        "total": 1
    },
    "msg": "success"
}
```

> [养殖流程 tbl6odNT0QWJNYMa] 数据表返回示例

```json
{
    "code": 0,
    "data": {
        "has_more": false,
        "items": [
            {
                "fields": {
                    "农户": [
                        {
                            "record_ids": [
                                "recuU78lxajRoy"
                            ],
                            "table_id": "tblfuZMMP7adSEy6",
                            "text": "张三",
                            "text_arr": [
                                "张三"
                            ],
                            "type": "text"
                        }
                    ],
                    "创建": 1755490716000,
                    "图片": [
                        {
                            "file_token": "GL2Mb1PvQoCW3JxbPB7cBbCfnFb",
                            "name": "image.png",
                            "size": 3042209,
                            "tmp_url": "https://open.feishu.cn/open-apis/drive/v1/medias/batch_get_tmp_download_url?file_tokens=GL2Mb1PvQoCW3JxbPB7cBbCfnFb",
                            "type": "image/png",
                            "url": "https://open.feishu.cn/open-apis/drive/v1/medias/GL2Mb1PvQoCW3JxbPB7cBbCfnFb/download"
                        }
                    ],
                    "操作人": "洋葱",
                    "操作时间": 1755490691513,
                    "更新": 1755490716000,
                    "流程": "进场"
                },
                "id": "recz4c6Ys0",
                "record_id": "recz4c6Ys0"
            },
            {
                "fields": {
                    "农户": [
                        {
                            "record_ids": [
                                "recuU78lxajRoy"
                            ],
                            "table_id": "tblfuZMMP7adSEy6",
                            "text": "张三",
                            "text_arr": [
                                "张三"
                            ],
                            "type": "text"
                        }
                    ],
                    "创建": 1755490742000,
                    "图片": [
                        {
                            "file_token": "FNZCbv3oAo4MJgxJWwtcb7jTnPf",
                            "name": "image.png",
                            "size": 3372708,
                            "tmp_url": "https://open.feishu.cn/open-apis/drive/v1/medias/batch_get_tmp_download_url?file_tokens=FNZCbv3oAo4MJgxJWwtcb7jTnPf",
                            "type": "image/png",
                            "url": "https://open.feishu.cn/open-apis/drive/v1/medias/FNZCbv3oAo4MJgxJWwtcb7jTnPf/download"
                        }
                    ],
                    "操作人": "王五",
                    "操作时间": 1755490717606,
                    "更新": 1755490742000,
                    "流程": "身份绑定"
                },
                "id": "recNEqn9ad",
                "record_id": "recNEqn9ad"
            },
            {
                "fields": {
                    "农户": [
                        {
                            "record_ids": [
                                "recuU78lxajRoy"
                            ],
                            "table_id": "tblfuZMMP7adSEy6",
                            "text": "张三",
                            "text_arr": [
                                "张三"
                            ],
                            "type": "text"
                        }
                    ],
                    "创建": 1755490769000,
                    "图片": [
                        {
                            "file_token": "Npv7bqsSSoBmUlxAbpTcTggInec",
                            "name": "image.png",
                            "size": 2511530,
                            "tmp_url": "https://open.feishu.cn/open-apis/drive/v1/medias/batch_get_tmp_download_url?file_tokens=Npv7bqsSSoBmUlxAbpTcTggInec",
                            "type": "image/png",
                            "url": "https://open.feishu.cn/open-apis/drive/v1/medias/Npv7bqsSSoBmUlxAbpTcTggInec/download"
                        }
                    ],
                    "操作人": "杨聪",
                    "操作时间": 1755490746221,
                    "更新": 1755490769000,
                    "流程": "出栏"
                },
                "id": "recUCaCsqB",
                "record_id": "recUCaCsqB"
            }
        ],
        "total": 3
    },
    "msg": "success"
}
```

